// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

enum PokemonType {
  normal
  fire
  water
  grass
  electric
  ice
  fighting
  poison
  ground
  flying
  psychic
  bug
  rock
  ghost
  dark
  dragon
  steel
  fairy
}

enum MoveCategory {
  physical
  special
  status
}

model Pokemon {
  id              Int          @id @default(autoincrement())
  name            String
  level           Int
  type            PokemonType
  currentHp       Int
  totalHp         Int
  attack          Int
  defense         Int
  specialAttack   Int
  specialDefense  Int
  speed           Int
  moves           PokemonMove[]
}

model Move {
  id          Int          @id @default(autoincrement())
  name        String
  type        PokemonType
  category    MoveCategory
  power       Int
  accuracy    Int
  pp          Int
  effect      String
  probability Int?
  pokemon     PokemonMove[]
}

model PokemonMove {
  id        Int     @id @default(autoincrement())
  pokemonId Int
  moveId    Int

  pokemon Pokemon @relation(fields: [pokemonId], references: [id])
  move    Move    @relation(fields: [moveId], references: [id])

  @@unique([pokemonId, moveId])
}
